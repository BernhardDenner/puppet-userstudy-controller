<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <title>puppet_introduction</title>
      <style>.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(171, 178, 191); overflow: auto; background-color: rgb(40, 44, 52); }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(124, 135, 156); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(82, 139, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(124, 135, 156); border-color: rgb(75, 83, 98); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top: 2px dashed rgb(75, 83, 98); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(75, 83, 98); }
.markdown-preview:not([data-use-github-style]) code { color: rgb(255, 255, 255); background-color: rgb(58, 63, 75); }
.markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(49, 54, 63); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(255, 255, 255); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(75, 83, 98) rgb(75, 83, 98) rgb(62, 68, 81); background-color: rgb(58, 63, 75); }
.markdown-preview[data-use-github-style] { font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); overflow: scroll; background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; border: 0px none; background-color: rgb(231, 231, 231); }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { border-top: 1px solid rgb(204, 204, 204); background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; border-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157); }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; border: 0px; background: transparent; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; border-radius: 3px; background-color: rgb(247, 247, 247); }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; border: 0px; background-color: transparent; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; background-color: rgb(252, 252, 252); }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover .horizontal-scrollbar { visibility: visible; }
.markdown-preview .task-list-item-checkbox { position: absolute; margin: 0.25em 0px 0px -1.4em; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}

.spell-check-misspelling .region {
  border-bottom: 2px dotted rgba(255, 51, 51, 0.75);
}
.spell-check-corrections {
  width: 25em !important;
}

pre.editor-colors {
  background-color: #282c34;
  color: #abb2bf;
}
pre.editor-colors .line.cursor-line {
  background-color: rgba(153, 187, 255, 0.04);
}
pre.editor-colors .invisible {
  color: #abb2bf;
}
pre.editor-colors .cursor {
  border-left: 2px solid #528bff;
}
pre.editor-colors .selection .region {
  background-color: #3e4451;
}
pre.editor-colors .bracket-matcher .region {
  border-bottom: 1px solid #528bff;
  box-sizing: border-box;
}
pre.editor-colors .invisible-character {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .indent-guide {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .wrap-guide {
  background-color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .find-result .region.region.region,
pre.editor-colors .current-result .region.region.region {
  border-radius: 2px;
  background-color: rgba(82, 139, 255, 0.24);
  transition: border-color 0.4s;
}
pre.editor-colors .find-result .region.region.region {
  border: 2px solid transparent;
}
pre.editor-colors .current-result .region.region.region {
  border: 2px solid #528bff;
  transition-duration: .1s;
}
pre.editor-colors .gutter .line-number {
  color: #636d83;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.cursor-line {
  color: #abb2bf;
  background-color: #2c313a;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection {
  background-color: transparent;
}
pre.editor-colors .gutter .line-number .icon-right {
  color: #abb2bf;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before {
  bottom: -3px;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed::after {
  content: "";
  position: absolute;
  left: 0px;
  bottom: 0px;
  width: 25px;
  border-bottom: 1px dotted rgba(224, 82, 82, 0.5);
  pointer-events: none;
}
pre.editor-colors .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
pre.editor-colors .fold-marker:after {
  color: #abb2bf;
}
.syntax--comment {
  color: #5c6370;
  font-style: italic;
}
.syntax--comment .syntax--markup.syntax--link {
  color: #5c6370;
}
.syntax--entity.syntax--name.syntax--type {
  color: #e5c07b;
}
.syntax--entity.syntax--other.syntax--inherited-class {
  color: #98c379;
}
.syntax--keyword {
  color: #c678dd;
}
.syntax--keyword.syntax--control {
  color: #c678dd;
}
.syntax--keyword.syntax--operator {
  color: #abb2bf;
}
.syntax--keyword.syntax--other.syntax--special-method {
  color: #61afef;
}
.syntax--keyword.syntax--other.syntax--unit {
  color: #d19a66;
}
.syntax--storage {
  color: #c678dd;
}
.syntax--storage.syntax--type.syntax--annotation,
.syntax--storage.syntax--type.syntax--primitive {
  color: #c678dd;
}
.syntax--storage.syntax--modifier.syntax--package,
.syntax--storage.syntax--modifier.syntax--import {
  color: #abb2bf;
}
.syntax--constant {
  color: #d19a66;
}
.syntax--constant.syntax--variable {
  color: #d19a66;
}
.syntax--constant.syntax--character.syntax--escape {
  color: #56b6c2;
}
.syntax--constant.syntax--numeric {
  color: #d19a66;
}
.syntax--constant.syntax--other.syntax--color {
  color: #56b6c2;
}
.syntax--constant.syntax--other.syntax--symbol {
  color: #56b6c2;
}
.syntax--variable {
  color: #e06c75;
}
.syntax--variable.syntax--interpolation {
  color: #be5046;
}
.syntax--variable.syntax--parameter {
  color: #abb2bf;
}
.syntax--string {
  color: #98c379;
}
.syntax--string.syntax--regexp {
  color: #56b6c2;
}
.syntax--string.syntax--regexp .syntax--source.syntax--ruby.syntax--embedded {
  color: #e5c07b;
}
.syntax--string.syntax--other.syntax--link {
  color: #e06c75;
}
.syntax--punctuation.syntax--definition.syntax--comment {
  color: #5c6370;
}
.syntax--punctuation.syntax--definition.syntax--method-parameters,
.syntax--punctuation.syntax--definition.syntax--function-parameters,
.syntax--punctuation.syntax--definition.syntax--parameters,
.syntax--punctuation.syntax--definition.syntax--separator,
.syntax--punctuation.syntax--definition.syntax--seperator,
.syntax--punctuation.syntax--definition.syntax--array {
  color: #abb2bf;
}
.syntax--punctuation.syntax--definition.syntax--heading,
.syntax--punctuation.syntax--definition.syntax--identity {
  color: #61afef;
}
.syntax--punctuation.syntax--definition.syntax--bold {
  color: #e5c07b;
  font-weight: bold;
}
.syntax--punctuation.syntax--definition.syntax--italic {
  color: #c678dd;
  font-style: italic;
}
.syntax--punctuation.syntax--section.syntax--embedded {
  color: #be5046;
}
.syntax--punctuation.syntax--section.syntax--method,
.syntax--punctuation.syntax--section.syntax--class,
.syntax--punctuation.syntax--section.syntax--inner-class {
  color: #abb2bf;
}
.syntax--support.syntax--class {
  color: #e5c07b;
}
.syntax--support.syntax--type {
  color: #56b6c2;
}
.syntax--support.syntax--function {
  color: #56b6c2;
}
.syntax--support.syntax--function.syntax--any-method {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--function {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--class,
.syntax--entity.syntax--name.syntax--type.syntax--class {
  color: #e5c07b;
}
.syntax--entity.syntax--name.syntax--section {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--tag {
  color: #e06c75;
}
.syntax--entity.syntax--other.syntax--attribute-name {
  color: #d19a66;
}
.syntax--entity.syntax--other.syntax--attribute-name.syntax--id {
  color: #61afef;
}
.syntax--meta.syntax--class {
  color: #e5c07b;
}
.syntax--meta.syntax--class.syntax--body {
  color: #abb2bf;
}
.syntax--meta.syntax--method-call,
.syntax--meta.syntax--method {
  color: #abb2bf;
}
.syntax--meta.syntax--definition.syntax--variable {
  color: #e06c75;
}
.syntax--meta.syntax--link {
  color: #d19a66;
}
.syntax--meta.syntax--require {
  color: #61afef;
}
.syntax--meta.syntax--selector {
  color: #c678dd;
}
.syntax--meta.syntax--separator {
  background-color: #373b41;
  color: #abb2bf;
}
.syntax--meta.syntax--tag {
  color: #abb2bf;
}
.syntax--underline {
  text-decoration: underline;
}
.syntax--none {
  color: #abb2bf;
}
.syntax--invalid.syntax--deprecated {
  color: #523d14 !important;
  background-color: #e0c285 !important;
}
.syntax--invalid.syntax--illegal {
  color: #ffffff !important;
  background-color: #e05252 !important;
}
.syntax--markup.syntax--bold {
  color: #d19a66;
  font-weight: bold;
}
.syntax--markup.syntax--changed {
  color: #c678dd;
}
.syntax--markup.syntax--deleted {
  color: #e06c75;
}
.syntax--markup.syntax--italic {
  color: #c678dd;
  font-style: italic;
}
.syntax--markup.syntax--heading {
  color: #e06c75;
}
.syntax--markup.syntax--heading .syntax--punctuation.syntax--definition.syntax--heading {
  color: #61afef;
}
.syntax--markup.syntax--link {
  color: #c678dd;
}
.syntax--markup.syntax--inserted {
  color: #98c379;
}
.syntax--markup.syntax--quote {
  color: #d19a66;
}
.syntax--markup.syntax--raw {
  color: #98c379;
}
.syntax--source.syntax--c .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--cpp .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--cs .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--css .syntax--property-name,
.syntax--source.syntax--css .syntax--property-value {
  color: #828997;
}
.syntax--source.syntax--css .syntax--property-name.syntax--support,
.syntax--source.syntax--css .syntax--property-value.syntax--support {
  color: #abb2bf;
}
.syntax--source.syntax--gfm .syntax--markup {
  -webkit-font-smoothing: auto;
}
.syntax--source.syntax--gfm .syntax--link .syntax--entity {
  color: #61afef;
}
.syntax--source.syntax--go .syntax--storage.syntax--type.syntax--string {
  color: #c678dd;
}
.syntax--source.syntax--ini .syntax--keyword.syntax--other.syntax--definition.syntax--ini {
  color: #e06c75;
}
.syntax--source.syntax--java .syntax--storage.syntax--modifier.syntax--import {
  color: #e5c07b;
}
.syntax--source.syntax--java .syntax--storage.syntax--type {
  color: #e5c07b;
}
.syntax--source.syntax--java .syntax--keyword.syntax--operator.syntax--instanceof {
  color: #c678dd;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair {
  color: #e06c75;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair > .syntax--punctuation {
  color: #abb2bf;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator {
  color: #56b6c2;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--delete,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--in,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--of,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--instanceof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--new,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--typeof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--void {
  color: #c678dd;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json {
  color: #e06c75;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation.syntax--string {
  color: #e06c75;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation {
  color: #98c379;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--constant.syntax--language.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--constant.syntax--language.syntax--json {
  color: #56b6c2;
}
.syntax--source.syntax--ruby .syntax--constant.syntax--other.syntax--symbol > .syntax--punctuation {
  color: inherit;
}
.syntax--source.syntax--python .syntax--keyword.syntax--operator.syntax--logical.syntax--python {
  color: #c678dd;
}
.syntax--source.syntax--python .syntax--variable.syntax--parameter {
  color: #d19a66;
}
</style>
  </head>
  <body class='markdown-preview'><h1 id="a-short-puppet-introduction">A short Puppet Introduction</h1>
<h4 id="table-of-contents">Table of Contents</h4>
<ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#resources">Resources - core of Puppet</a></li>
<li><a href="#classes">Classes</a></li>
<li><a href="#variables">Variables</a></li>
<li><a href="#conditional-statements">Conditional Statements</a></li>
<li><a href="#functions">Function</a></li>
<li><a href="#erb-templates">ERB Templates</a><ul>
<li><a href="#tags">Tags</a></li>
<li><a href="#accessing-variables-in-templates">Accessing Variables in templates</a></li>
<li><a href="#template-examples">Template Examples</a></li>
</ul>
</li>
<li><a href="#working-example-puppet-in-action">Working Example: Puppet in Action</a></li>
<li><a href="#useful-resource-types-for-experiment-tasks">Useful Resource Types for Experiment
Tasks</a><ul>
<li><a href="#-file-resource-type-and-erb-templates"><code>file</code> Resource Type and ERB
Templates</a></li>
<li><a href="#libelektra-kdbmount-and-kdbkey">Libelektra: Kdbmount and Kdbkey</a><ul>
<li><a href="#-kdbmount-resource-type"><code>kdbmount</code> Resource Type</a></li>
<li><a href="#-kdbkey-resource-type"><code>kdbkey</code> Resource Type</a></li>
</ul>
</li>
<li><a href="#-file_line-resource-type"><code>file_line</code> Resource Type</a></li>
<li><a href="#-ini_setting-resource-type"><code>ini_setting</code> Resource Type</a></li>
<li><a href="#-augeas-resource-type"><code>augeas</code> Resource Type</a></li>
<li><a href="#-host-resource-type"><code>host</code> Resource Type</a></li>
</ul>
</li>
<li><a href="#references">References</a></li>
</ol>
<h2 id="introduction">Introduction</h2>
<p>Puppet, is used to manage configuration of
Unix-like systems in a declarative manner. The user describes system resources
and their states, using Puppet&#39;s domain specific language. This declarative
description of a desired system state is then compared to the actual system
state. If the desired state differs from the actual state, Puppet will perform
actions to bring the managed system into the desired state.</p>
<p>The desired system state is defined as a set of resource declarations within one
ore more <em>Puppet manifests</em> (source files). Such Puppet manifests can then be
<em>applied</em> to a system.</p>
<h2 id="resources">Resources</h2>
<p>Resources are the fundamental unit of Puppet. Resource declarations tells
Puppet how the desired system state should look like. A resource can be a user,
file, cronjob, package..., roughly any identifiable property of a computer
system.</p>
<p>Within Puppet, each resource declaration consists of the following elements:</p>
<ul>
<li><strong>resource type</strong>: basically which resource we want to manage. Is it a <code>file</code>,
<code>user</code> or <code>package</code>.</li>
<li><p><strong>title</strong>: each resource within one resource type must have a <strong>unique</strong>
title. So for files this will be the <em>absolute path name</em>, for packages
it will be the <em>package name</em> and so on.</p>
<p>Again, each defined resource type-title pair has to be globally unique. For
example, there must not be two <code>file</code> definitions for the same absolute path
name. Otherwise Puppet won&#39;t know, which one to use.</p>
</li>
<li><p><strong>attributes</strong>: each resource definition can have one or more attribute value
pairs,
which describe the concrete state of the resource. For example the attribute
<code>owner</code> describes the owner of a file.</p>
<p>Since different types of resources have different aspects to manage (e.g. a
package does not have an owner), each resource type has different attributes
it can handle. A complete list of built-in resource types with their
attributes can be found at <a href="https://docs.puppet.com/puppet/latest/type.html">Resource Type
Reference</a>.</p>
</li>
</ul>
<p>Example resource declarations:</p>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;ensure&nbsp;the&nbsp;file&nbsp;/etc/resolv.conf&nbsp;exists&nbsp;with&nbsp;owner&nbsp;=&nbsp;&#39;root&#39;,&nbsp;group&nbsp;=&nbsp;&#39;root&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;and&nbsp;file&nbsp;permissions&nbsp;0644</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>file</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;/etc/resolv.conf&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>file</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>owner&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>root</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>group&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>root</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>mode&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>0644</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;Within&nbsp;one&nbsp;scope&nbsp;(see&nbsp;below)&nbsp;we&nbsp;can&nbsp;define&nbsp;resource&nbsp;defaults&nbsp;for&nbsp;a&nbsp;particular&nbsp;type:</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;file&nbsp;modules/webserver/manifests/init.pp</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--class syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--puppet"><span>webserver</span></span><span>&nbsp;</span></span><span>{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;default&nbsp;attributes&nbsp;for&nbsp;all&nbsp;file&nbsp;resource&nbsp;definitions&nbsp;within&nbsp;this&nbsp;class&nbsp;(scope)</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;File&nbsp;{&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;Note&nbsp;the&nbsp;capital&nbsp;&#39;F&#39;</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>owner&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>www</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>group&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>www</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--puppet"><span>file</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;/var/www&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>directory</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;owner&nbsp;and&nbsp;group&nbsp;are&nbsp;added&nbsp;implicetly</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--puppet"><span>file</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;/etc/www/config.ini&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>file</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;several&nbsp;resource&nbsp;definitions&nbsp;at&nbsp;once</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;file&nbsp;{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/etc/www/domain1.conf</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>:&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>file</span></span><span>&nbsp;;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;Note&nbsp;the&nbsp;&#39;;&#39;&nbsp;here</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/etc/www/domain2.conf</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>:</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>file</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>mode&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>0644</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/etc/www/secret-domain.conf</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>:</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>file</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>owner&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>root</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;default&nbsp;is&nbsp;overrided&nbsp;here</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>mode&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>0640</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
<h2 id="classes">Classes</h2>
<p>Classes are named blocks of Puppet code and exist for grouping resource
definitions. They can&#39;t be compared to &#39;classes&#39; from a object oriented point of
view. Puppet classes can&#39;t be instantiated, instead they are just <em>used</em> or
<em>included</em>.</p>
<p>Classes can have an arbitrary number of parameter.</p>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--class syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--puppet"><span>webserver</span></span><span>(</span><span class="syntax--meta syntax--function syntax--argument syntax--no-default syntax--untyped syntax--puppet"><span class="syntax--variable syntax--other syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>sitedir</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--argument syntax--default syntax--untyped syntax--puppet"><span class="syntax--variable syntax--other syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>ensure</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--puppet"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>present</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span><span>)&nbsp;</span></span><span>{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;resource&nbsp;declarations</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;...</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
<h2 id="variables">Variables</h2>
<p>Beside its declarative resource definition, Puppet also has some aspects of
procedural programming languages to allow some flexibility.</p>
<p>Variables are <strong>immutable</strong>, so each of them can have a single assignment only.
Variables are always prefixed with a <code>$</code>. Within a double-quoted string, they
can also be referenced by <code>${variable}</code>.</p>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>configfile</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/etc/myapp/myapp.conf</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>content</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>This&nbsp;is&nbsp;just&nbsp;some&nbsp;text</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>file</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>$configfile</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>file</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;include&nbsp;variable&nbsp;in&nbsp;string&nbsp;(use&nbsp;double-quotes)</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>content&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>${</span></span><span>content</span><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>}</span></span></span><span>&nbsp;from&nbsp;some&nbsp;one</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>content</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>other&nbsp;text</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;this&nbsp;does&nbsp;not&nbsp;work</span></span></span></div></pre>
<p>Variables are defined within a <strong>scope</strong> and are only available within the scope
in which they are defined.</p>
<p>Within a child scope, variables from the parent scope can be accessed using
their <em>qualified names</em>, i.e. adding its scope names delimited by <code>::</code> (e.g.
<code>$webserver::sitedir</code>).</p>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;modules/webserver/manifests/init.pp</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--class syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--puppet"><span>webserver</span></span><span>(</span><span class="syntax--meta syntax--function syntax--argument syntax--no-default syntax--untyped syntax--puppet"><span class="syntax--variable syntax--other syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>sitedir</span></span></span><span>)&nbsp;</span></span><span>{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>defaults</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>some&nbsp;default&nbsp;value</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;...</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;modules/webserver/manifests/config.pp</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--class syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--puppet"><span>webserver::config</span></span><span>&nbsp;</span></span><span>{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;access&nbsp;to&nbsp;$sitedir&nbsp;of&nbsp;class&nbsp;webserver</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>x</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>webserver::sitedir</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>y</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>webserver::defaults</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;...</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
<h2 id="conditional-statements">Conditional Statements</h2>
<p>Conditional statements let Puppet code behave differently in different
situations.</p>
<ul>
<li><p><strong>if-statement</strong></p>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--keyword syntax--control syntax--puppet"><span>if</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>variable</span></span><span>&nbsp;==&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>some&nbsp;value</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>&nbsp;or&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>variable</span></span><span>&nbsp;==&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>other&nbsp;value</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>&nbsp;{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;$variable&nbsp;has&nbsp;concrete&nbsp;value</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--keyword syntax--control syntax--puppet"><span>elsif</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>variable</span></span><span>&nbsp;=~&nbsp;/^rege[Xx]&nbsp;\d+/&nbsp;and&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>variable</span></span><span>&nbsp;!~&nbsp;/^dan[gG]erous/&nbsp;{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;$variable&nbsp;matches&nbsp;first&nbsp;regular&nbsp;expression&nbsp;but&nbsp;not&nbsp;second&nbsp;one</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--keyword syntax--control syntax--puppet"><span>elsif</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>variable</span></span><span>&nbsp;!=&nbsp;undef&nbsp;{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;variable&nbsp;has&nbsp;a&nbsp;value&nbsp;(undef&nbsp;means&nbsp;&#39;no&nbsp;value&#39;)</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--keyword syntax--control syntax--puppet"><span>else</span></span><span>&nbsp;{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;else&nbsp;case</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
</li>
<li><p><strong>case-statement</strong>: simpler form of if-elsif-else chains</p>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--keyword syntax--control syntax--puppet"><span>case</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>variable</span></span><span>&nbsp;{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>some&nbsp;fixed&nbsp;value</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>:&nbsp;&nbsp;{&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;$variable&nbsp;==&nbsp;&#39;some&nbsp;fixed&nbsp;value&#39;&nbsp;}</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>this</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>that</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;$variable&nbsp;is&nbsp;&#39;this&#39;&nbsp;or&nbsp;&#39;that&#39;&nbsp;}</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;/^(hello)|(world)$/:&nbsp;{&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;$variable&nbsp;matches&nbsp;regex&nbsp;(&#39;hello&#39;&nbsp;or&nbsp;&#39;world&#39;)}</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>default:</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;default&nbsp;case&nbsp;if&nbsp;nothing&nbsp;matches&nbsp;}</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
</li>
<li><p><strong>selectors</strong>: allow conditioned variable assignments</p>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>variable</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>sitedir</span></span><span>&nbsp;?&nbsp;{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>some&nbsp;fixed&nbsp;value</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>fixed&nbsp;value</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;/^rege[Xx]&nbsp;\d+/&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>regex&nbsp;match</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>nothing&nbsp;matched</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
</li>
</ul>
<h2 id="functions">Functions</h2>
<p>Puppet allows to call pre-defined function (junks of Ruby code), which <strong>returns
values</strong>, <strong>modify the catalog</strong> or simply <strong>fail</strong>.</p>
<p>There are several built-in function and more are available through Puppet
modules, especially by the <code>puppetlabs-stdlib</code> module.</p>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;content&nbsp;of&nbsp;file&nbsp;is&nbsp;defined&nbsp;by&nbsp;parsing&nbsp;and&nbsp;evaluating&nbsp;the&nbsp;specified&nbsp;ERB&nbsp;template</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>file</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;/etc/ntp.conf&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>file</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>content&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--puppet"><span>template</span></span><span>(</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>ntp/ntp.conf.erb</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>)&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;template()&nbsp;built-in&nbsp;function</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;include&nbsp;the&nbsp;&#39;webserver&#39;&nbsp;class</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--include syntax--puppet"><span class="syntax--keyword syntax--control syntax--import syntax--include syntax--puppet"><span>include</span></span><span>&nbsp;</span><span>webserver</span></span><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;include&nbsp;build-in&nbsp;function</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;stdlib&nbsp;function&nbsp;basename():&nbsp;get&nbsp;basename&nbsp;of&nbsp;a&nbsp;path</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--keyword syntax--control syntax--puppet"><span>if</span></span><span>&nbsp;basename(</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>path</span></span><span>)&nbsp;==&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>file.txt</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>&nbsp;{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;build-in&nbsp;function:&nbsp;aborts&nbsp;compilation&nbsp;with&nbsp;given&nbsp;message</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--puppet"><span>fail</span></span><span>(</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>file.txt&nbsp;must&nbsp;not&nbsp;be&nbsp;touched</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>)</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;stdlib&nbsp;fuction:&nbsp;aborts&nbsp;compilation&nbsp;if&nbsp;$client&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;IP&nbsp;address</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>validate_ip_address(</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>client</span></span><span>)</span></span></div></pre>
<h2 id="erb-templates">ERB Templates</h2>
<p>Templates are boilerplates for large string values, typically used as
content of files. ERB templates are normal text files with embedded Ruby code.
This Ruby code is evaluated during the function call <code>template()</code> and the result
of this evaluation, together with normal text parts, are returned by the
<code>template()</code> function.</p>
<p>Typical use case:</p>
<p>file: <code>modules/apache2/templates/site.conf.erb</code></p>
<pre class="editor-colors lang-apache"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&lt;VirtualHost&nbsp;*:80&gt;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;&nbsp;DocumentRoot&nbsp;&lt;%=&nbsp;@docroot&nbsp;%&gt;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&lt;/VirtualHost&gt;</span></span></div></pre>
<p>file: <code>modules/apache2/manifests/config.pp</code></p>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--class syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--puppet"><span>apache2::config</span></span><span>&nbsp;</span></span><span>{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>docroot</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/var/www/html</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--puppet"><span>file</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;/etc/apache2/sites-available/default.conf&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>file</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>content&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--puppet"><span>template</span></span><span>(</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>apache2/site.conf.erb</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>)&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;takes&nbsp;the&nbsp;path&nbsp;to&nbsp;the&nbsp;template</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
<p>Results in <code>/etc/apache2/sites-available/default.conf</code></p>
<pre class="editor-colors lang-text"><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>&lt;VirtualHost&nbsp;*:80&gt;</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span>&nbsp;&nbsp;</span><span class="syntax--meta syntax--paragraph syntax--text"><span>DocumentRoot&nbsp;/var/www/html</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>&lt;/VirtualHost&gt;</span></span></span></div></pre><p>Important to note is the parameter of the function <code>template()</code>. This function
expects the path to the template in the following form:
<code>&lt;module-name&gt;/&lt;path-under-templates-dir&gt;</code>. Examples:</p>
<pre class="editor-colors lang-sh"><div class="line"><span class="syntax--source syntax--shell"><span>.../modules/ssh/templates/sshd.conf.erb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;template&nbsp;file</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>template</span><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>&#39;</span></span><span>ssh/sshd.conf.erb</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;path&nbsp;without&nbsp;&#39;templates&#39;&nbsp;dir</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>.../modules/ntp/templates/server/ntp.conf.erb&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;template&nbsp;file</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>template</span><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>&#39;</span></span><span>ntp/server/ntp.conf.erb</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span></span></div></pre>
<h3 id="tags">Tags</h3>
<p>Everything enclosed in <code>&lt;% %&gt;</code> is interpreted as Ruby code and will be
evaluated. The following forms can be used:</p>
<ul>
<li><code>&lt;% CODE %&gt;</code>: simple evaluation</li>
<li><code>&lt;%= EXPRESSION %&gt;</code>: evaluation, whereas result of expression will be added to result
of template</li>
<li><code>&lt;%- CODE -%&gt;</code>: simple evaluation, whereas leading and trailing white space
(including followed newline) will not be part of the template result. Closing
bracket can be combined with other forms.</li>
</ul>
<h3 id="accessing-variables-in-templates">Accessing Variables in Templates</h3>
<p>Variables in the <strong>current scope</strong> are available in the ERB template as Ruby
instance variables. i.e. <code>$</code> replaced by <code>@</code>: <code>$variable</code> =&gt; <code>@variable</code>.</p>
<p><strong>Out-of-scope</strong> variables are accessible through the <code>scope</code> Hash object:
<code>$apache::docroot</code> =&gt; <code>scope[&#39;apache::docroot&#39;]</code></p>
<pre class="editor-colors lang-ruby"><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--comment syntax--line syntax--number-sign syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--comment syntax--ruby"><span>#</span></span><span>&nbsp;template&nbsp;is&nbsp;called&nbsp;within&nbsp;scope&nbsp;apache::config</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--keyword syntax--operator syntax--comparison syntax--ruby"><span>&lt;</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--augmented syntax--ruby"><span>%=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--instance syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--variable syntax--ruby"><span>@</span></span><span>docroot</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%&gt;</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;access&nbsp;to&nbsp;$apache::config::docroot</span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span>&lt;%=&nbsp;scope[&#39;apache::defaults&#39;]&nbsp;%</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&gt;</span></span></span><span>&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--comment syntax--ruby"><span>#</span></span><span>&nbsp;access&nbsp;to&nbsp;$apache::defaults</span><span>&nbsp;</span></span></span></div></pre>
<h3 id="template-examples">Template Examples</h3>
<pre class="editor-colors lang-ruby"><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--comment syntax--line syntax--number-sign syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--comment syntax--ruby"><span>#</span></span><span>&nbsp;simple&nbsp;evaluation</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--keyword syntax--operator syntax--comparison syntax--ruby"><span>&lt;</span></span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--ruby"><span>%</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--ruby"><span>if</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--instance syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--variable syntax--ruby"><span>@</span></span><span>docroot</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--ruby"><span>==</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>&#39;</span></span><span>some&nbsp;value</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&#39;</span></span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span>goes&nbsp;into&nbsp;the&nbsp;template&nbsp;if&nbsp;condition&nbsp;is&nbsp;true</span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span>&lt;%&nbsp;end&nbsp;%</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--comment syntax--line syntax--number-sign syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--comment syntax--ruby"><span>#</span></span><span>&nbsp;evaluation&nbsp;and&nbsp;result&nbsp;of&nbsp;expression&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;result</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--variable syntax--other syntax--constant syntax--ruby"><span>Hello</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--ruby"><span>&lt;</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--augmented syntax--ruby"><span>%=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--interpolated syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>&quot;</span></span><span>world</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&quot;</span></span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%&gt;</span></span><span>.&nbsp;Docroot&nbsp;=&nbsp;&lt;%=&nbsp;@docroot&nbsp;-%</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--comment syntax--line syntax--number-sign syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--comment syntax--ruby"><span>#</span></span><span>&nbsp;evaluation,&nbsp;leading&nbsp;and&nbsp;trailing&nbsp;whitespce&nbsp;(also&nbsp;newline)&nbsp;will&nbsp;not&nbsp;be&nbsp;part&nbsp;of&nbsp;result</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--ruby"><span>&lt;</span></span><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%-</span></span><span>&nbsp;if&nbsp;@docroot&nbsp;==&nbsp;&#39;/var/www/html&#39;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>-</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span>&nbsp;&nbsp;&lt;%#&nbsp;default&nbsp;docroot&nbsp;(comment&nbsp;line)&nbsp;-%</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span>&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--constant syntax--ruby"><span>Access</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--ruby"><span>&lt;</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--augmented syntax--ruby"><span>%=</span></span><span>&nbsp;scope</span><span class="syntax--punctuation syntax--section syntax--array syntax--begin syntax--ruby"><span>[</span></span><span class="syntax--string syntax--quoted syntax--single syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>&#39;</span></span><span>apache::default_access</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--array syntax--end syntax--ruby"><span>]</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span>&nbsp;&nbsp;&lt;%-&nbsp;end&nbsp;-%</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--comment syntax--line syntax--number-sign syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--comment syntax--ruby"><span>#</span></span><span>&nbsp;more&nbsp;complex&nbsp;example&nbsp;with&nbsp;condition&nbsp;and&nbsp;loop&nbsp;iteration</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--keyword syntax--operator syntax--comparison syntax--ruby"><span>&lt;</span></span><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%-</span></span><span>&nbsp;if&nbsp;@aliases.is_a?&nbsp;Hash&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>-</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span>&nbsp;&nbsp;&lt;Aliases</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--ruby"><span>&lt;</span></span><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%-</span></span><span>&nbsp;@aliases.each&nbsp;do&nbsp;|key,&nbsp;value|&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>-</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;%=&nbsp;key&nbsp;%</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&gt;</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--ruby"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--interpolated syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>&quot;</span></span><span>&lt;%=&nbsp;value&nbsp;%&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&quot;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--ruby"><span>&lt;</span></span><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%-</span></span><span>&nbsp;end&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>-</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span>&nbsp;&nbsp;&lt;/Aliases</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>&gt;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--ruby"><span class="syntax--keyword syntax--operator syntax--comparison syntax--ruby"><span>&lt;</span></span><span class="syntax--string syntax--quoted syntax--other syntax--interpolated syntax--ruby"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%-</span></span><span>&nbsp;end&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--ruby"><span>-</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--ruby"><span>%&gt;</span></span></span></span></div></pre>
<h2 id="working-example-puppet-in-action">Working Example: Puppet in Action</h2>
<p>The following code listing is fully working example. It ensures the configfile
<code>/etc/exampleapp.ini</code> exists with a defined content. This listing shows four
different files:</p>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;file:&nbsp;/etc/puppet/modules/exampleapp/manifests/init.pp</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--class syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--puppet"><span>exampleapp</span></span><span>(</span><span class="syntax--meta syntax--function syntax--argument syntax--no-default syntax--untyped syntax--puppet"><span class="syntax--variable syntax--other syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>queue</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--argument syntax--no-default syntax--untyped syntax--puppet"><span class="syntax--variable syntax--other syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>logfile</span></span></span><span>)&nbsp;</span></span><span>{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;ensure&nbsp;this&nbsp;class&nbsp;is&nbsp;used&nbsp;with&nbsp;values&nbsp;for&nbsp;both&nbsp;parameter</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--puppet"><span>if</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>queue</span></span><span>&nbsp;==&nbsp;undef&nbsp;or&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>logfile</span></span><span>&nbsp;==&nbsp;undef&nbsp;{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--puppet"><span>fail</span></span><span>(</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>you&nbsp;have&nbsp;to&nbsp;specify&nbsp;values&nbsp;for&nbsp;both&nbsp;parameter</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>)</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--meta syntax--include syntax--puppet"><span class="syntax--keyword syntax--control syntax--import syntax--include syntax--puppet"><span>include</span></span><span>&nbsp;</span><span>exampleapp::config</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;file:&nbsp;/etc/puppet/modules/exampleapp/manifests/config.pp</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--class syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--puppet"><span>exampleapp::config</span></span><span>&nbsp;</span></span><span>{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>configfile</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/etc/exampleapp.ini</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;add&nbsp;variables&nbsp;used&nbsp;in&nbsp;template&nbsp;to&nbsp;this&nbsp;scope:&nbsp;this&nbsp;reduces&nbsp;coupling</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>queue</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>exampleapp::queue</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>logfile</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>exampleapp::logfile</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--puppet"><span>file</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>$configfile</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>file</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>content&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--puppet"><span>template</span></span><span>(</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>exampleapp/config.ini.erb</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>)</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;file:&nbsp;/etc/puppet/modules/exampleapp/templates/config.ini.erb</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>[section&nbsp;1]</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>queue&nbsp;=&nbsp;&lt;%=&nbsp;@queue&nbsp;%&gt;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>[section&nbsp;2]</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>logfile&nbsp;=&nbsp;&lt;%=&nbsp;@logfile&nbsp;%&gt;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;file:&nbsp;/etc/puppet/manifests/site.pp</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--class syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>node</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--puppet"><span>&quot;mycomputer&quot;</span></span><span>&nbsp;</span></span><span>{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;apply&nbsp;the&nbsp;exampleapp&nbsp;class&nbsp;to&nbsp;the&nbsp;default&nbsp;host&nbsp;&quot;mycomputer&quot;</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--puppet"><span>class</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&quot;exampleapp&quot;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>queue&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>hello</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>logfile&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/var/log/exampleapp.log</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
<p>So now if we run puppet we&#39;ll get:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>root&nbsp;$&gt;&nbsp;puppet&nbsp;apply&nbsp;/etc/puppet/manifests/site.pp</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>Info:&nbsp;Loading&nbsp;facts</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>Notice:&nbsp;Compiled&nbsp;catalog&nbsp;for&nbsp;t2_1_method_a.netbb&nbsp;in&nbsp;environment&nbsp;production&nbsp;in</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>0.22&nbsp;seconds</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>Info:&nbsp;Applying&nbsp;configuration&nbsp;version&nbsp;&#39;1490950501&#39;</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>Notice:&nbsp;/Stage[main]/Exampleapp::Config/File[/etc/exampleapp.ini]/ensure:</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>defined&nbsp;content&nbsp;as&nbsp;&#39;{md5}d3d2fb08e40c226c9027b1f02667eac4&#39;</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>Notice:&nbsp;Finished&nbsp;catalog&nbsp;run&nbsp;in&nbsp;0.03&nbsp;seconds</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>root&nbsp;$&gt;&nbsp;cat&nbsp;/etc/exampleapp.ini</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>[section&nbsp;1]</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>queue&nbsp;=&nbsp;hello</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>[section&nbsp;2]</span></span></span></div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>logfile&nbsp;=&nbsp;/var/log/exampleapp.log</span></span></span></div></pre><h2 id="useful-resource-types-for-experiment-tasks">Useful Resource Types for Experiment Tasks</h2>
<p>The resource types described in this chapter are required to solve the
experiment tasks.</p>
<h3 id="-file-resource-type-and-erb-templates"><code>file</code> Resource Type and ERB Templates</h3>
<p>The <code>file</code> resource type was already used in the above examples, so you should
be familiar with if already. An ERB template introduction and examples can be
found in chapter <a href="#erb-templates">ERB Templates</a>.</p>
<p>Most important attributes:</p>
<ul>
<li><code>path</code>: absolute path to the file, if not given the resource title is used</li>
<li><code>ensure</code>: whether is should exist and if so which kind of file it should be.<ul>
<li><code>file</code>: file should exist</li>
<li><code>directory</code>: make sure it is a directory</li>
<li><code>present</code>: file or directory exists, if missing a regular file is created</li>
<li><code>absent</code>: make sure file of directory does NOT exist</li>
</ul>
</li>
<li><code>content</code>: content of the file</li>
<li><code>owner</code>: owner of the file, user name or uid</li>
<li><code>group</code>: group of the file, user name or gid</li>
<li><code>mode</code>: file system permissions, such as &#39;0644&#39;</li>
</ul>
<p>The full documentation can be found at <a href="https://docs.puppet.com/puppet/3.8/type.html#file">Resource Type
Reference#File</a>.</p>
<h3 id="libelektra-kdbmount-and-kdbkey">Libelektra: Kdbmount and Kdbkey</h3>
<p>Resource types to handle configuration files using <em>libelektra</em>.</p>
<p>Elektra is a general purpose, key value based configuration framework. It
operates on a global, hierarchically organized shared key space (kdb =&gt; key
database).
Configuration files of different formats can be <strong>mounted</strong> into this key space.
This will allow to manipulate the settings in the configuration file on a key
value basis.</p>
<p>Example of the Elektra key space:</p>
<pre class="editor-colors lang-sh"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;This&nbsp;examples&nbsp;assumes&nbsp;/etc/samba/smb.conf&nbsp;is&nbsp;mounted&nbsp;under&nbsp;system/sw/samba</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;and&nbsp;/etc/ntp.conf&nbsp;is&nbsp;mounted&nbsp;under&nbsp;system/sw/ntp</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>...</span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>system/sw/samba&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;&lt;=&nbsp;/etc/samba/smb.conf&nbsp;is&nbsp;mounted&nbsp;here</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>system/sw/samba/global&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;&lt;=&nbsp;INI&nbsp;section&nbsp;within&nbsp;smb.conf</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>system/sw/samba/global/workgroup&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;&lt;=&nbsp;configuration&nbsp;setting&nbsp;under&nbsp;section&nbsp;&#39;global&#39;</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>...</span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>system/sw/ntp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;&lt;=&nbsp;mountpoint&nbsp;for&nbsp;/etc/ntp.conf</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>system/sw/ntp/server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;&lt;=&nbsp;setting&nbsp;&#39;server&#39;&nbsp;in&nbsp;ntp.conf</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>system/sw/ntp/driftfile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;&lt;=&nbsp;setting&nbsp;&#39;driftfile&#39;&nbsp;in&nbsp;ntp.conf</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>...</span></span></div></pre>
<p>Each mount point (here <code>system/sw/samba</code> and <code>system/sw/ntp</code>) is defined be the
following elements:</p>
<ul>
<li><em>mount point</em>: path within the Elektra key space</li>
<li><em>file</em>: configuration file used for mounting</li>
<li><em>list of plugins</em>: Elektra plugin used to read/write the configuration file.
Additionally, plugins for validation or manipulations can be added.</li>
</ul>
<p>Configuration files are NOT added automatically (mounted) into the Elektra key
space. This has to be done once per configuration file. Therefore we can use the
resource type <code>kdbmount</code>. Once a configuration file is mounted, we can
manipulate its setting with the <code>kdbkey</code> resource.</p>
<p>The full documentation can be found under <a href="https://github.com/ElektraInitiative/puppet-libelektra/blob/master/README.md">Github
puppet-libelektra</a></p>
<h4 id="-kdbmount-resource-type"><code>kdbmount</code> Resource Type</h4>
<p><code>kdbmount</code> ensures a specific configuration file is mounted at the given Elektra
mount point.</p>
<p>Important attributes:</p>
<ul>
<li><code>name</code>: mount point to use, if not given the resource title is used</li>
<li><code>ensure</code>: mount point should be <code>present</code> or <code>absent</code> (default: <code>present</code>)</li>
<li><code>file</code>: path to configuration file to mount</li>
<li><code>plugins</code>: list of Elektra plugins used for mounting</li>
</ul>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;mount&nbsp;the&nbsp;file&nbsp;/etc/samba/smb.conf&nbsp;at&nbsp;system/sw/samba</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>kdbmount</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;system/sw/samba&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>present</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>file</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/etc/samba/smb.conf</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>plugins&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>ini</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;mount&nbsp;the&nbsp;JSON&nbsp;file&nbsp;/etc/myapp/config.json&nbsp;at&nbsp;system/sw/myapp</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;also&nbsp;add&nbsp;the&nbsp;validation&nbsp;plugins&nbsp;&#39;type&#39;,&nbsp;&#39;enum&#39;,&nbsp;&#39;range&#39;&nbsp;and&nbsp;&#39;network&#39;&nbsp;which</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;will&nbsp;perform&nbsp;value&nbsp;validation</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>kdbmount</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;system/sw/myapp&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>file</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/etc/myapp/config.json</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>plugins&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;[</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>json</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>type</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>enum</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>range</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>network</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>]</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
<h4 id="-kdbkey-resource-type"><code>kdbkey</code> Resource Type</h4>
<p>Once a configuration file is mounted, its settings can be manipulated with the
<code>kdbkey</code> resource type.</p>
<p>Important attributes:</p>
<ul>
<li><code>name</code>: Elektra key path, if omitted, the resource title is used</li>
<li><code>ensure</code>: if key should be <code>present</code> or <code>absent</code> (default: <code>present</code>)</li>
<li><code>value</code>: desired value of key</li>
<li><code>prefix</code>: Elektra key name prefix. If given, this prefix will be prepended to
<code>name</code> attribute (or title if name is missing)</li>
<li><code>check</code>: add key validation checks. Given validations will be
performed before each write operation. This can be used to ensure only valid
values are written to the configuration file.</li>
<li><code>comments</code>: key comments, if the storage plugin and configuration file format
supports comments, this will go into the configuration file</li>
</ul>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;from&nbsp;above&nbsp;example,&nbsp;ensure&nbsp;configuration&nbsp;setting&nbsp;&#39;workgroup&#39;&nbsp;under&nbsp;section</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;&#39;global&#39;&nbsp;exists&nbsp;and&nbsp;has&nbsp;value&nbsp;&#39;MY_WORKGROUP&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>kdbkey</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;system/sw/samba/global/workgroup&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>present</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>value&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>MY_WORKGROUP</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;ensure&nbsp;desired&nbsp;configuration&nbsp;setting&nbsp;is&nbsp;missing</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>kdbkey</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;system/sw/samba/global/debug&nbsp;level&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>absent</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>myapp_mountpoint</span></span><span>&nbsp;=&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>system/sw/myapp</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>kdbkey&nbsp;{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;ensure&nbsp;&#39;instances&#39;&nbsp;has&nbsp;given&nbsp;value,&nbsp;is&nbsp;of&nbsp;type&nbsp;&#39;short&#39;&nbsp;and&nbsp;is&nbsp;within&nbsp;1&nbsp;and&nbsp;10</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;requires&nbsp;&#39;system/sw/myapp&#39;&nbsp;is&nbsp;mounted&nbsp;with&nbsp;plugins&nbsp;&#39;type&#39;&nbsp;and&nbsp;&#39;range&#39;</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>instances</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>:</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>prefix&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>myapp_mountpoint</span></span><span>,&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;key&nbsp;name&nbsp;is&nbsp;&quot;system/sw/myapp/instances&quot;</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>value&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>instances</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>check&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;{</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>type</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>short</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>range</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>1-10</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;specify&nbsp;value&nbsp;for&nbsp;&#39;client&#39;&nbsp;and&nbsp;ensure&nbsp;it&nbsp;has&nbsp;a&nbsp;valid&nbsp;IP&nbsp;address</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;requires&nbsp;&#39;system/sw/myapp&#39;&nbsp;is&nbsp;mounted&nbsp;with&nbsp;&#39;network&#39;&nbsp;plugin</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>client</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>:</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>prefix&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>myapp_mountpoint</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>value&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>client_ip</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>check&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>ipaddr</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>&nbsp;;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
<h3 id="-file_line-resource-type"><code>file_line</code> Resource Type</h3>
<p>This resource type (available in <em>puppetlabs-stdlib</em>) can be used to ensure a
specific <strong>line</strong> within a file exists or is missing. It can also be used to
replace particular lines with a given one.</p>
<p>Important attributes of <code>file_line</code>:</p>
<ul>
<li><code>ensure</code>: whether the line should be <code>present</code> or <code>absent</code> (default:
<code>present</code>)</li>
<li><code>path</code>: path to the file which should be manipulated</li>
<li><code>line</code>: line string, that should be added to the file defined by <code>path</code></li>
<li><code>match</code>: regular expression, if a matching line was found, this matching line
will be replaced by the value of <code>line</code>. If not, the <code>line</code> will be added to
the file.</li>
<li><code>match_for_absence</code>: if set to true and <code>ensure =&gt; absent</code> the line matching
<code>match</code> will be deleted.</li>
</ul>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;ensure&nbsp;the&nbsp;specified&nbsp;line&nbsp;exists&nbsp;in&nbsp;the&nbsp;given&nbsp;file</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>file_line</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&quot;hosts&nbsp;samba&nbsp;server&quot;</span></span><span>:</span></span><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;use&nbsp;an&nbsp;arbitrary&nbsp;unique&nbsp;resource&nbsp;title&nbsp;here</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>path&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/etc/hosts</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>line&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>samba_ip</span></span><span>&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>samba_hostname</span></span><span>&nbsp;samba</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;ensure&nbsp;given&nbsp;line&nbsp;exists&nbsp;replacing&nbsp;a&nbsp;matching&nbsp;line&nbsp;if&nbsp;existing</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>file_line</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&quot;hosts&nbsp;VPN&nbsp;server&quot;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>path&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/etc/hosts</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>line&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>vpn_ip</span></span><span>&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>vpn_hostname</span></span><span>&nbsp;vpn</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>match&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>&nbsp;vpn$</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;ensure&nbsp;$dead_ntp_server&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;ntp.conf</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>file_line</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&quot;remove&nbsp;dead&nbsp;ntp&nbsp;server&quot;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>absent</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>path&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/etc/ntp.conf</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>line&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>server&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>dead_ntp_server</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
<p>The full documentation can be found under <a href="https://forge.puppet.com/puppetlabs/stdlib#file_line">Puppetforge
Puppetlabs-stdlib#file_line</a>.</p>
<h3 id="-ini_setting-resource-type"><code>ini_setting</code> Resource Type</h3>
<p>This resource type allows to manipulate INI based configuration files on a per
setting bases. Instead of modifying the whole configuration file it allows to
manipulate concrete INI settings only.</p>
<p>Important attributes of <code>ini_setting</code>:</p>
<ul>
<li><code>ensure</code>: whether the setting should be <code>present</code> or <code>absent</code></li>
<li><code>path</code>: path to configuration file to manipulate</li>
<li><code>section</code>: if given, specifies the <em>section</em> in which the setting can be found</li>
<li><code>setting</code>: setting to manipulate</li>
<li><code>value</code>: value of the setting</li>
</ul>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;specify&nbsp;specific&nbsp;value&nbsp;for&nbsp;setting&nbsp;&#39;baz&#39;&nbsp;under&nbsp;section&nbsp;&#39;bar&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>ini_setting</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&quot;sample&nbsp;setting&quot;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>present</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>path&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/tmp/foo.ini</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>section&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>bar</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>setting&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>baz</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>value&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>quux</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;ensure&nbsp;setting&nbsp;&#39;other_setting&#39;&nbsp;under&nbsp;section&nbsp;&#39;bar&#39;&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;&#39;/tmp/foo.ini&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>ini_setting</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;removed&nbsp;setting&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>absent</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>path&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/tmp/foo.ini</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>section&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>bar</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>setting&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>other_setting</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
<p>The full documentation can be found under <a href="https://forge.puppet.com/puppetlabs/inifile">Puppetforge
puppetlabs-inifile</a>.</p>
<h3 id="-augeas-resource-type"><code>augeas</code> Resource Type</h3>
<p><em>Augeas</em> is library to manipulate configuration files on a per setting bases. It
parses existing configuration files and transforms them to in internal XML-like
representation. The user is able to query and manipulate this internal XML
representation, whereas changes are written back to the actual configuration
file. Puppet has a built-in resource type <code>augeas</code> which allows interacting with
this library. In contrast to Elektra, configuration files do not have to be
<em>mounted</em> instead very common config files are added an parsed automatically.</p>
<p>The <code>augeas</code> resource type is designed to operate on Augeas <em>tasks</em>, i.e. a user
defines a set of Augeas commands to modify the XML representation and therefore
modify the underlying configuration file.</p>
<p>Important attributes:</p>
<ul>
<li><code>changes</code>: one or more Augeas commands</li>
<li><code>context</code>: if given all Augeas path names will be prepended by this parameter</li>
<li><code>incl</code>: load a specific configuration file, which is not part of the default
Augeas config file set.</li>
<li><code>lens</code>: Name of the Augeas <em>lens</em> to be used for loading custom config files</li>
<li><code>onlyif</code>: only apply given commands (<code>changes</code>) if this Augeas query evaluates
to true</li>
</ul>
<p>Important commands for attribute <code>changes</code>:</p>
<ul>
<li><code>set &lt;PATH&gt; &lt;VALUE&gt;</code>: set value</li>
<li><code>remove &lt;PATH&gt;</code>: delete specified path</li>
</ul>
<p>Important commands for attribute <code>onlyif</code>:</p>
<ul>
<li><code>get &lt;PATH&gt; &lt;COMPARATOR&gt; &lt;VALUE&gt;</code>: whereas <code>&lt;COMPARATOR&gt;</code> is one of <code>&gt;, &gt;=,
!=, ==, &lt;=, &lt;</code></li>
<li><code>match &lt;PATH&gt; size &lt;COMPARATOR&gt; &lt;INT&gt;</code>: match for number or elements</li>
</ul>
<p>An Augeas <code>&lt;PATH&gt;</code> starts with <code>/files</code> followed by the absolute path name of
the desired configuration file. The XML representation is accessible by this
path, whereas hierarchies will be extended by another path levels:</p>
<pre class="editor-colors lang-sh"><div class="line"><span class="syntax--source syntax--shell"><span>/files/etc/samba/smb.conf/target</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>1</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span>/workgroup</span></span></div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;target[1]&nbsp;referse&nbsp;to&nbsp;the&nbsp;first&nbsp;section&nbsp;in&nbsp;smb.conf,&nbsp;here&nbsp;&#39;global&#39;</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;target[1]/workgroup&nbsp;&nbsp;referse&nbsp;to&nbsp;setting&nbsp;workgroup&nbsp;in&nbsp;section&nbsp;&#39;global&#39;</span></span></span></div></pre>
<p>Augeas supports a XPath like query within its path specifications to allow more
flexible matches:</p>
<pre class="editor-colors lang-sh"><div class="line"><span class="syntax--source syntax--shell"><span>/files/etc/samba/smb.conf/</span><span class="syntax--keyword syntax--operator syntax--glob syntax--shell"><span>*</span></span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>.&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>&#39;</span></span><span>global</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span>/workgroup</span></span></div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;select&nbsp;the&nbsp;&#39;target&#39;&nbsp;node&nbsp;with&nbsp;value&nbsp;&#39;global&#39;</span></span></span></div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;this&nbsp;matches&nbsp;always&nbsp;setting&nbsp;&#39;workgroup&#39;&nbsp;under&nbsp;section&nbsp;&#39;global&#39;&nbsp;even&nbsp;if&nbsp;it&nbsp;is&nbsp;not&nbsp;the&nbsp;first&nbsp;section</span></span></span></div></pre>
<p>Examples:</p>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;enable&nbsp;X11&nbsp;forwarding&nbsp;for&nbsp;the&nbsp;SSH-server,&nbsp;only&nbsp;if&nbsp;it&nbsp;isn&#39;t&nbsp;enabled&nbsp;already</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>augeas</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;enable&nbsp;sshd&nbsp;X11&nbsp;forwarding&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>context&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/files/etc/ssh/sshd_config</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>changes&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;[</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>set&nbsp;X11Forwarding&nbsp;yes</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>set&nbsp;X11DisplayOffset&nbsp;10</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;],</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>onlyif&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>get&nbsp;X11Forwarding&nbsp;!=&nbsp;yes</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;add&nbsp;a&nbsp;new&nbsp;Host&nbsp;specific&nbsp;SSH&nbsp;client&nbsp;config&nbsp;for&nbsp;all&nbsp;users</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>augeas</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&quot;add&nbsp;$host&nbsp;client&nbsp;config&quot;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>context&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/files/etc/ssh/ssh_config</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>onlyif&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>match&nbsp;*[.&nbsp;=&nbsp;&#39;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>${</span></span><span>host</span><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>}</span></span></span><span>&#39;]&nbsp;size&nbsp;==&nbsp;0</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>changes&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>set&nbsp;Host[0]&nbsp;&#39;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>${</span></span><span>host</span><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>}</span></span></span><span>&#39;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;now&nbsp;we&nbsp;add&nbsp;host&nbsp;specific&nbsp;settings</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>augeas</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&quot;add&nbsp;settings&nbsp;to&nbsp;$host&nbsp;client&nbsp;config&quot;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>context&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/files/etc/ssh/ssh_config</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>changes&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;[</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>set&nbsp;*[.&nbsp;=&nbsp;&#39;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>${</span></span><span>host</span><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>}</span></span></span><span>&#39;]/X11Forwarding&nbsp;yes</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;enable&nbsp;X11Forwaring&nbsp;on&nbsp;the&nbsp;client</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;],</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>onlyif&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>get&nbsp;*[.&nbsp;=&nbsp;&#39;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>${</span></span><span>host</span><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>}</span></span></span><span>&#39;]/X11Forwarding&nbsp;!=&nbsp;yes</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;do&nbsp;it&nbsp;only&nbsp;if&nbsp;we&nbsp;have&nbsp;to</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;now&nbsp;ensure,&nbsp;this&nbsp;Augeas&nbsp;task&nbsp;is&nbsp;executed&nbsp;AFTER&nbsp;the&nbsp;&quot;add&nbsp;$host&nbsp;client&nbsp;config&quot;&nbsp;task</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>require&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;Augeas[</span><span class="syntax--string syntax--quoted syntax--double syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&quot;</span></span><span>add&nbsp;</span><span class="syntax--variable syntax--other syntax--readwrite syntax--global syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--variable syntax--puppet"><span>$</span></span><span>host</span></span><span>&nbsp;client&nbsp;config</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&quot;</span></span></span><span>]</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
<p>The full documentation can be found under <a href="https://docs.puppet.com/puppet/3.8/type.html#augeas">Resource Type
Reference#Augeas</a>.
Additional explanations and usage examples are available under <a href="https://docs.puppet.com/puppet/latest/resources_augeas.html">Resource tips
and examples:
Augeas</a>.</p>
<h3 id="-host-resource-type"><code>host</code> Resource Type</h3>
<p><code>host</code> is a built-in resource type to manipulate entries of &#39;/etc/hosts&#39; files.</p>
<p>Important attributes:</p>
<ul>
<li><code>name</code>: hostname, if not given resource title is used</li>
<li><code>ensure</code>: whether the host entry should be <code>present</code> or <code>absent</code> (default:
<code>present</code>)</li>
<li><code>ip</code>: IP address used for this host entry. If you supply an invalid IP address
the <code>host</code> resource type fails.</li>
<li><code>host_aliases</code>: any host aliases for this host. Multiple values must be
specified as an array.</li>
<li><code>target</code>: full path to hosts file. (default: &#39;/etc/hosts&#39;)</li>
</ul>
<pre class="editor-colors lang-puppet"><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;ensure&nbsp;entry&nbsp;exists</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>host</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;storagemoster1&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>present</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>192.168.3.12</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>host_aliases&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;[</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>samba</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>nfs</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span><span>]</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--comment syntax--full-line syntax--puppet"><span class="syntax--comment syntax--line syntax--number-sign syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--comment syntax--puppet"><span>#</span></span><span>&nbsp;ensure&nbsp;entry&nbsp;in&nbsp;alternative&nbsp;hosts&nbsp;file&nbsp;is&nbsp;missing</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span class="syntax--meta syntax--definition syntax--resource syntax--puppet"><span class="syntax--storage syntax--type syntax--puppet"><span>host</span></span><span>&nbsp;{&nbsp;</span><span class="syntax--entity syntax--name syntax--section syntax--puppet"><span>&#39;oldserver&#39;</span></span><span>:</span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>ensure&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--puppet"><span>absent</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>&nbsp;&nbsp;</span><span class="syntax--constant syntax--other syntax--key syntax--puppet"><span>target&nbsp;</span></span><span class="syntax--punctuation syntax--separator syntax--key-value syntax--puppet"><span>=&gt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--puppet"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--puppet"><span>&#39;</span></span><span>/etc/hosts_other</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--puppet"><span>&#39;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--puppet"><span>}</span></span></div></pre>
<p>The full documentation is available under <a href="https://docs.puppet.com/puppet/3.8/type.html#host">Resource Type
Reference#host</a>.</p>
<h2 id="references">References</h2>
<ul>
<li>Puppet 3.8 Reference Manual: <a href="https://docs.puppet.com/puppet/3.8/">https://docs.puppet.com/puppet/3.8/</a></li>
<li>Resource Type Reference: <a href="https://docs.puppet.com/puppet/3.8/type.html">https://docs.puppet.com/puppet/3.8/type.html</a></li>
<li>Puppetforge puppetlabs-stdlib Reference: <a href="https://forge.puppet.com/puppetlabs/stdlib">https://forge.puppet.com/puppetlabs/stdlib</a></li>
<li>Embedded Ruby (ERB) Template Syntax:
<a href="https://docs.puppet.com/puppet/3.8/lang_template_erb.html">https://docs.puppet.com/puppet/3.8/lang_template_erb.html</a></li>
<li>Github puppet-libelektra Reference:
<a href="https://github.com/ElektraInitiative/puppet-libelektra/blob/master/README.md">https://github.com/ElektraInitiative/puppet-libelektra/blob/master/README.md</a></li>
<li>Puppetforge puppetlabs-inifile Reference: <a href="https://forge.puppet.com/puppetlabs/inifile">https://forge.puppet.com/puppetlabs/inifile</a></li>
<li>Resource tips and examples: Augeas:
<a href="https://docs.puppet.com/puppet/latest/resources_augeas.html">https://docs.puppet.com/puppet/latest/resources_augeas.html</a></li>
</ul></body>
</html>
